if (MSVC)
  list(APPEND CMAKE_CONFIGURATION_TYPES ReleaseStatic)
  set(BUILD_SHARED_LIBS Off)
  set(CMAKE_C_FLAGS_RELEASESTATIC ${CMAKE_C_FLAGS_RELEASE})
  set(CMAKE_CXX_FLAGS_RELEASESTATIC ${CMAKE_CXX_FLAGS_RELEASE})
  set(CMAKE_EXE_LINKER_FLAGS_RELEASESTATIC ${CMAKE_EXE_LINKER_FLAGS_RELEASE})
  foreach(flag_var CMAKE_C_FLAGS_RELEASESTATIC CMAKE_CXX_FLAGS_RELEASESTATIC)
   if(${flag_var} MATCHES "/MD")
      string(REGEX REPLACE "/MD" "/MT" ${flag_var} "${${flag_var}}")
   endif(${flag_var} MATCHES "/MD")
  endforeach(flag_var)
endif()